<script src="../components/webcomponentsjs/webcomponents.js"></script>

<link rel="import" href="routes.html">

<polymer-element name="job-progress" attributes="job">
    <template>
        <style>
            div.progress{
            margin-bottom:0;
            max-width: 100px;
            }
            div.progress-bar{
                color:#000
            }
        </style>
        <link rel="stylesheet" href="../components/bootstrap/dist/css/bootstrap.css">
        <div class="progress">
            <div class="progress-bar {{{'progress-bar-warning' : job.state == 'READY', 'progress-bar-success' : job.state == 'DONE', 'progress-bar-info' : job.state == 'RUNNING'} | tokenList}}"
                 role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                 style="min-width: {{job.progressPercent}}%;">
                <template if="{{job.state == 'READY'}}">READY</template>
                <template if="{{job.state != 'READY'}}">{{job.progressPercent}}%</template>
            </div>
        </div>
    </template>

    <script>
    Polymer('job-progress', {
      applyAuthorStyles: true,
      ready: function() {
          this.job = this.job || {};
      }
    });


    </script>
</polymer-element>
<html>
<head>
    <title>server</title>

    <meta name="viewport"
          content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

    <script src="../components/webcomponentsjs/webcomponents.js"></script>
    <link rel="import" href="../components/core-icons/core-icons.html">
    <link rel="import" href="../components/core-toolbar/core-toolbar.html">
    <link rel="import" href="../components/core-header-panel/core-header-panel.html">
    <link rel="import" href="../components/core-drawer-panel/core-drawer-panel.html">
    <link rel="import" href="../components/core-menu/core-menu.html">
    <link rel="import" href="../components/core-item/core-item.html">
    <link rel="import" href="../components/core-pages/core-pages.html">
    <link rel="import" href="../components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="../components/font-roboto/roboto.html">
    <link rel="import" href="routes.html">
    <link rel="import" href="tests-list.html">

    <script>

        var socket = new WebSocket("wss://localhost:8443/events");
        socket.onopen = function(){
	        console.info("Socket has been opened!");
	        socket.send("foo");
        }
        socket.onmessage = function(msg){
	        console.info("got", msg);
	    }
	    socket.onclose = function(){
	    }
	    socket.onerror = function(error){
	        console.error("error", error);
        }





    </script>
    <style>
        .icon-larger{
        width:100px;
        height:100px;
        color:#9ade00;
        }
    </style>
    <link rel="stylesheet" href="app.css">
</head>

<body unresolved fullbleed fit layout vertical>
<template is="auto-binding" id="app">

    <core-drawer-panel id="drawerPanel">
        <core-header-panel drawer>
            <core-toolbar>Menu</core-toolbar>
            <more-route-selector>
                <core-menu>
                    <core-item label="Home" route="home">
                        <a href="{{urlFor('home')}}"></a>
                    </core-item>
                    <core-item label="Build" route="builds">
                        <a href="{{urlFor('builds')}}"></a>
                    </core-item>
                    <core-item label="Jobs" route="jobs">
                        <a href="{{urlFor('jobs')}}"></a>
                    </core-item>
                    <core-item label="Agents" route="agents">
                        <a href="{{urlFor('agents')}}"></a>
                    </core-item>
                    <core-item label="Tests" route="tests">
                        <a href="{{urlFor('tests')}}"></a>
                    </core-item>
                </core-menu>
            </more-route-selector>
        </core-header-panel>

        <core-header-panel main>
            <core-toolbar>
                <paper-icon-button core-drawer-toggle icon="menu"></paper-icon-button>
                <div>{{heading}}</div>
                <span flex></span>
                <paper-icon-button icon="search"></paper-icon-button>
            </core-toolbar>
            <main>
                <more-route-selector>
                    <core-pages>
                        <section route="home">
                            <h1>Home</h1>

                            <div>This is the home section</div>
                        </section>
                        <section route="builds">
                            <h1>Builds</h1>

                            <div>This is the builds section</div>
                        </section>
                        <section route="jobs">
                            <h1>Jobs</h1>

                            <div>This is the jobs section</div>
                        </section>
                        <section route="agents">
                            <h1>Agents</h1>

                            <div>This is the agents section</div>
                        </section>
                        <section route="tests">
                            <h1>Tests</h1>
                            <div>
                                <tests-list url="api/newman/test?all=true"></tests-list>
                            </div>
                        </section>
                    </core-pages>
                </more-route-selector>
            </main>
        </core-header-panel>
    </core-drawer-panel>
</template>
<!--<script src="../components/page.js/page.js"></script>-->
<script src="app.js"></script>
</body>
</html>
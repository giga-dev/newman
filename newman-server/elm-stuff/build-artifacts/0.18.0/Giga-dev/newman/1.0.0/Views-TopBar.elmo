var _Giga_dev$newman$Views_TopBar$view = function (model) {
	var agentsCountString = A2(
		_elm_lang$core$Basics_ops['++'],
		'Agents count: ',
		_elm_lang$core$Basics$toString(model.agentsCount));
	var failingAgentsString = A2(
		_elm_lang$core$Basics_ops['++'],
		'Failing agents: ',
		_elm_lang$core$Basics$toString(model.failingAgents));
	var userNameString = A2(_elm_lang$core$Basics_ops['++'], 'Hello ', model.user.userName);
	var size = A2(
		_basti1302$elm_human_readable_filesize$Filesize$formatWith,
		_elm_lang$core$Native_Utils.update(
			_basti1302$elm_human_readable_filesize$Filesize$defaultSettings,
			{decimalSeparator: ','}),
		model.logsSize);
	var logSizeString = A2(_elm_lang$core$Basics_ops['++'], 'Logs size: ', size);
	return A2(
		_elm_lang$html$Html$span,
		{
			ctor: '::',
			_0: _elm_lang$html$Html_Attributes$class('topbar-info'),
			_1: {ctor: '[]'}
		},
		{
			ctor: '::',
			_0: _elm_lang$html$Html$text(
				A2(
					_elm_lang$core$Basics_ops['++'],
					userNameString,
					A2(
						_elm_lang$core$Basics_ops['++'],
						',  ',
						A2(
							_elm_lang$core$Basics_ops['++'],
							failingAgentsString,
							A2(
								_elm_lang$core$Basics_ops['++'],
								',  ',
								A2(
									_elm_lang$core$Basics_ops['++'],
									agentsCountString,
									A2(_elm_lang$core$Basics_ops['++'], ',  ', logSizeString))))))),
			_1: {ctor: '[]'}
		});
};
var _Giga_dev$newman$Views_TopBar$update = F2(
	function (msg, model) {
		var _p0 = msg;
		switch (_p0.ctor) {
			case 'GetFailingAgentsCompleted':
				var _p1 = _p0._0;
				if (_p1.ctor === 'Ok') {
					return {
						ctor: '_Tuple2',
						_0: _elm_lang$core$Native_Utils.update(
							model,
							{failingAgents: _p1._0}),
						_1: _elm_lang$core$Platform_Cmd$none
					};
				} else {
					var a = A2(_elm_lang$core$Debug$log, 'top bar GetFailingAgentsCompleted failed', _p1._0);
					return {ctor: '_Tuple2', _0: model, _1: _elm_lang$core$Platform_Cmd$none};
				}
			case 'GetAgentsCountCompleted':
				var _p2 = _p0._0;
				if (_p2.ctor === 'Ok') {
					return {
						ctor: '_Tuple2',
						_0: _elm_lang$core$Native_Utils.update(
							model,
							{agentsCount: _p2._0}),
						_1: _elm_lang$core$Platform_Cmd$none
					};
				} else {
					var a = A2(_elm_lang$core$Debug$log, 'top bar GetAgentsCountCompleted failed', _p2._0);
					return {ctor: '_Tuple2', _0: model, _1: _elm_lang$core$Platform_Cmd$none};
				}
			case 'GetLogsSizeCompleted':
				var _p3 = _p0._0;
				if (_p3.ctor === 'Ok') {
					return {
						ctor: '_Tuple2',
						_0: _elm_lang$core$Native_Utils.update(
							model,
							{logsSize: _p3._0}),
						_1: _elm_lang$core$Platform_Cmd$none
					};
				} else {
					var a = A2(_elm_lang$core$Debug$log, 'top bar GetLogsSizeCompleted failed', _p3._0);
					return {ctor: '_Tuple2', _0: model, _1: _elm_lang$core$Platform_Cmd$none};
				}
			case 'GetUserNameCompleted':
				var _p4 = _p0._0;
				if (_p4.ctor === 'Ok') {
					return {
						ctor: '_Tuple2',
						_0: _elm_lang$core$Native_Utils.update(
							model,
							{user: _p4._0}),
						_1: _elm_lang$core$Platform_Cmd$none
					};
				} else {
					var a = A2(_elm_lang$core$Debug$log, 'top bar GetUserNameCompleted failed', _p4._0);
					return {ctor: '_Tuple2', _0: model, _1: _elm_lang$core$Platform_Cmd$none};
				}
			default:
				var _p5 = _p0._0;
				switch (_p5.ctor) {
					case 'ModifiedAgentsCount':
						return {
							ctor: '_Tuple2',
							_0: _elm_lang$core$Native_Utils.update(
								model,
								{agentsCount: _p5._0}),
							_1: _elm_lang$core$Platform_Cmd$none
						};
					case 'ModifiedFailingAgents':
						return {
							ctor: '_Tuple2',
							_0: _elm_lang$core$Native_Utils.update(
								model,
								{failingAgents: _p5._0}),
							_1: _elm_lang$core$Platform_Cmd$none
						};
					default:
						return {ctor: '_Tuple2', _0: model, _1: _elm_lang$core$Platform_Cmd$none};
				}
		}
	});
var _Giga_dev$newman$Views_TopBar$Model = F4(
	function (a, b, c, d) {
		return {failingAgents: a, agentsCount: b, logsSize: c, user: d};
	});
var _Giga_dev$newman$Views_TopBar$WebSocketEvent = function (a) {
	return {ctor: 'WebSocketEvent', _0: a};
};
var _Giga_dev$newman$Views_TopBar$handleEvent = function (event) {
	return A2(_Giga_dev$newman$Utils_WebSocket_ops['=>'], event, _Giga_dev$newman$Views_TopBar$WebSocketEvent);
};
var _Giga_dev$newman$Views_TopBar$GetUserNameCompleted = function (a) {
	return {ctor: 'GetUserNameCompleted', _0: a};
};
var _Giga_dev$newman$Views_TopBar$getUserNameCmd = A2(
	_elm_lang$http$Http$send,
	_Giga_dev$newman$Views_TopBar$GetUserNameCompleted,
	A2(_elm_lang$http$Http$get, '/api/newman/user', _Giga_dev$newman$Utils_Types$decodeUser));
var _Giga_dev$newman$Views_TopBar$GetLogsSizeCompleted = function (a) {
	return {ctor: 'GetLogsSizeCompleted', _0: a};
};
var _Giga_dev$newman$Views_TopBar$getLogsSizeCmd = A2(
	_elm_lang$http$Http$send,
	_Giga_dev$newman$Views_TopBar$GetLogsSizeCompleted,
	A2(_elm_lang$http$Http$get, '/api/newman/log/size', _elm_lang$core$Json_Decode$int));
var _Giga_dev$newman$Views_TopBar$GetAgentsCountCompleted = function (a) {
	return {ctor: 'GetAgentsCountCompleted', _0: a};
};
var _Giga_dev$newman$Views_TopBar$getAgentsCountCmd = A2(
	_elm_lang$http$Http$send,
	_Giga_dev$newman$Views_TopBar$GetAgentsCountCompleted,
	A2(_elm_lang$http$Http$get, '/api/newman/agents/count', _elm_lang$core$Json_Decode$int));
var _Giga_dev$newman$Views_TopBar$GetFailingAgentsCompleted = function (a) {
	return {ctor: 'GetFailingAgentsCompleted', _0: a};
};
var _Giga_dev$newman$Views_TopBar$getFailingAgentsCmd = A2(
	_elm_lang$http$Http$send,
	_Giga_dev$newman$Views_TopBar$GetFailingAgentsCompleted,
	A2(_elm_lang$http$Http$get, '/api/newman/agents/failing', _elm_lang$core$Json_Decode$int));
var _Giga_dev$newman$Views_TopBar$init = {
	ctor: '_Tuple2',
	_0: {
		failingAgents: 0,
		agentsCount: 0,
		logsSize: 0,
		user: {userName: 'unknown user'}
	},
	_1: _elm_lang$core$Platform_Cmd$batch(
		{
			ctor: '::',
			_0: _Giga_dev$newman$Views_TopBar$getFailingAgentsCmd,
			_1: {
				ctor: '::',
				_0: _Giga_dev$newman$Views_TopBar$getAgentsCountCmd,
				_1: {
					ctor: '::',
					_0: _Giga_dev$newman$Views_TopBar$getLogsSizeCmd,
					_1: {
						ctor: '::',
						_0: _Giga_dev$newman$Views_TopBar$getUserNameCmd,
						_1: {ctor: '[]'}
					}
				}
			}
		})
};
